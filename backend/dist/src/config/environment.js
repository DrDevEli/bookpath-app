"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.resolveEnvironment = void 0;
const DEFAULT_ENVIRONMENT = 'dev';
const VALID_ENVIRONMENTS = {
    dev: 'dev',
    stage: 'stage',
    prod: 'prod',
};
const resolveEnvironment = (rawEnv) => {
    if (!rawEnv) {
        return DEFAULT_ENVIRONMENT;
    }
    const normalized = rawEnv.trim().toLowerCase();
    if (normalized in VALID_ENVIRONMENTS) {
        return VALID_ENVIRONMENTS[normalized];
    }
    throw new Error(`Unsupported BookPath environment "${rawEnv}". Expected one of: ${Object.keys(VALID_ENVIRONMENTS).join(', ')}`);
};
exports.resolveEnvironment = resolveEnvironment;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZW52aXJvbm1lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvY29uZmlnL2Vudmlyb25tZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUVBLE1BQU0sbUJBQW1CLEdBQXdCLEtBQUssQ0FBQztBQUV2RCxNQUFNLGtCQUFrQixHQUFxRDtJQUMzRSxHQUFHLEVBQUUsS0FBSztJQUNWLEtBQUssRUFBRSxPQUFPO0lBQ2QsSUFBSSxFQUFFLE1BQU07Q0FDYixDQUFDO0FBRUssTUFBTSxrQkFBa0IsR0FBRyxDQUNoQyxNQUFzQixFQUNELEVBQUU7SUFDdkIsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDO1FBQ1osT0FBTyxtQkFBbUIsQ0FBQztJQUM3QixDQUFDO0lBRUQsTUFBTSxVQUFVLEdBQUcsTUFBTSxDQUFDLElBQUksRUFBRSxDQUFDLFdBQVcsRUFBRSxDQUFDO0lBQy9DLElBQUksVUFBVSxJQUFJLGtCQUFrQixFQUFFLENBQUM7UUFDckMsT0FBTyxrQkFBa0IsQ0FBQyxVQUFpQyxDQUFDLENBQUM7SUFDL0QsQ0FBQztJQUVELE1BQU0sSUFBSSxLQUFLLENBQ2IscUNBQXFDLE1BQU0sdUJBQXVCLE1BQU0sQ0FBQyxJQUFJLENBQzNFLGtCQUFrQixDQUNuQixDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUNmLENBQUM7QUFDSixDQUFDLENBQUM7QUFqQlcsUUFBQSxrQkFBa0Isc0JBaUI3QiIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCB0eXBlIEJvb2tQYXRoRW52aXJvbm1lbnQgPSAnZGV2JyB8ICdzdGFnZScgfCAncHJvZCc7XG5cbmNvbnN0IERFRkFVTFRfRU5WSVJPTk1FTlQ6IEJvb2tQYXRoRW52aXJvbm1lbnQgPSAnZGV2JztcblxuY29uc3QgVkFMSURfRU5WSVJPTk1FTlRTOiBSZWNvcmQ8Qm9va1BhdGhFbnZpcm9ubWVudCwgQm9va1BhdGhFbnZpcm9ubWVudD4gPSB7XG4gIGRldjogJ2RldicsXG4gIHN0YWdlOiAnc3RhZ2UnLFxuICBwcm9kOiAncHJvZCcsXG59O1xuXG5leHBvcnQgY29uc3QgcmVzb2x2ZUVudmlyb25tZW50ID0gKFxuICByYXdFbnY/OiBzdHJpbmcgfCBudWxsLFxuKTogQm9va1BhdGhFbnZpcm9ubWVudCA9PiB7XG4gIGlmICghcmF3RW52KSB7XG4gICAgcmV0dXJuIERFRkFVTFRfRU5WSVJPTk1FTlQ7XG4gIH1cblxuICBjb25zdCBub3JtYWxpemVkID0gcmF3RW52LnRyaW0oKS50b0xvd2VyQ2FzZSgpO1xuICBpZiAobm9ybWFsaXplZCBpbiBWQUxJRF9FTlZJUk9OTUVOVFMpIHtcbiAgICByZXR1cm4gVkFMSURfRU5WSVJPTk1FTlRTW25vcm1hbGl6ZWQgYXMgQm9va1BhdGhFbnZpcm9ubWVudF07XG4gIH1cblxuICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgYFVuc3VwcG9ydGVkIEJvb2tQYXRoIGVudmlyb25tZW50IFwiJHtyYXdFbnZ9XCIuIEV4cGVjdGVkIG9uZSBvZjogJHtPYmplY3Qua2V5cyhcbiAgICAgIFZBTElEX0VOVklST05NRU5UUyxcbiAgICApLmpvaW4oJywgJyl9YCxcbiAgKTtcbn07XG5cbiJdfQ==