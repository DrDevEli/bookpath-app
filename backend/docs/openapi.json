{"openapi":"3.0.0","info":{"title":"BookPath API","version":"1.0.0"},"paths":{"/auth/register":{"post":{"tags":["Auth"],"summary":"Register a new user","description":"Create a new user account with email and password","requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["username","email","password"],"properties":{"username":{"type":"string","example":"johndoe"},"email":{"type":"string","format":"email","example":"john@example.com"},"password":{"type":"string","format":"password","example":"StrongP@ssw0rd123"}}}}}},"responses":{"201":{"description":"User registered successfully"},"400":{"description":"Invalid input data"},"409":{"description":"User already exists"}}}},"/auth/login":{"post":{"tags":["Auth"],"summary":"Login user","description":"Authenticate user and return JWT token","requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["email","password"],"properties":{"email":{"type":"string","format":"email"},"password":{"type":"string","format":"password"}}}}}},"responses":{"200":{"description":"Login successful","content":{"application/json":{"schema":{"type":"object","properties":{"token":{"type":"string"},"refreshToken":{"type":"string"}}}}}},"401":{"description":"Invalid credentials"}}}},"/auth/logout":{"post":{"tags":["Auth"],"summary":"Logout user","description":"Invalidate user's JWT token","security":[{"bearerAuth":[]}],"responses":{"200":{"description":"Logout successful"},"401":{"description":"Unauthorized"}}}},"/auth/refresh-token":{"post":{"tags":["Auth"],"summary":"Refresh JWT token","description":"Get a new JWT token using refresh token","requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["refreshToken"],"properties":{"refreshToken":{"type":"string"}}}}}},"responses":{"200":{"description":"Token refreshed successfully"},"401":{"description":"Invalid refresh token"}}}},"/auth/verify-email/{token}":{"get":{"tags":["Auth"],"summary":"Verify email address","description":"Verify user's email address using verification token","parameters":[{"in":"path","name":"token","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Email verified successfully"},"400":{"description":"Invalid or expired token"}}}},"/auth/request-password-reset":{"post":{"tags":["Auth"],"summary":"Request password reset","description":"Send password reset email to user","requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["email"],"properties":{"email":{"type":"string","format":"email"}}}}}},"responses":{"200":{"description":"Password reset email sent"},"404":{"description":"User not found"}}}},"/auth/reset-password":{"post":{"tags":["Auth"],"summary":"Reset password","description":"Reset user's password using reset token","requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["token","newPassword"],"properties":{"token":{"type":"string"},"newPassword":{"type":"string","format":"password"}}}}}},"responses":{"200":{"description":"Password reset successful"},"400":{"description":"Invalid or expired token"}}}},"/books/search":{"get":{"tags":["Books"],"summary":"Search for books across multiple sources","parameters":[{"in":"query","name":"title","schema":{"type":"string"}},{"in":"query","name":"author","schema":{"type":"string"}},{"in":"query","name":"page","schema":{"type":"integer","default":1}},{"in":"query","name":"category","schema":{"type":"string"}},{"in":"query","name":"condition","schema":{"type":"string","enum":["new","used"]}},{"in":"query","name":"sort","schema":{"type":"string","enum":["newest","author_az"]}}],"responses":{"200":{"description":"OK"}}}},"/books/search/advanced":{"get":{"tags":["Books"],"summary":"Advanced book search","parameters":[{"in":"query","name":"title","schema":{"type":"string"}},{"in":"query","name":"author","schema":{"type":"string"}},{"in":"query","name":"genre","schema":{"type":"string"}},{"in":"query","name":"page","schema":{"type":"integer","default":1}}],"responses":{"200":{"description":"OK"}}}},"/books/{id}":{"get":{"tags":["Books"],"summary":"Get book by ID","parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK"},"404":{"description":"Not found"}}}},"/books/author/{authorId}":{"get":{"tags":["Books"],"summary":"Get author details","parameters":[{"in":"path","name":"authorId","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK"}}}},"/collections":{"post":{"tags":["Collections"],"summary":"Create a new collection","description":"Create a new book collection","security":[{"bearerAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["name"],"properties":{"name":{"type":"string","example":"My Favorite Books"},"description":{"type":"string","example":"A collection of my favorite books"},"isPublic":{"type":"boolean","default":false}}}}}},"responses":{"201":{"description":"Collection created successfully","content":{"application/json":{"schema":{"$ref":"#/definitions/BookCollection"}}}},"400":{"description":"Invalid input","content":{"application/json":{"schema":{"$ref":"#/definitions/Error"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/definitions/Error"}}}}}},"get":{"tags":["Collections"],"summary":"Get user's collections","description":"Retrieve all collections for the authenticated user","security":[{"bearerAuth":[]}],"parameters":[{"in":"query","name":"page","schema":{"type":"integer","default":1},"description":"Page number"},{"in":"query","name":"limit","schema":{"type":"integer","default":10},"description":"Number of items per page"}],"responses":{"200":{"description":"List of collections","content":{"application/json":{"schema":{"$ref":"#/definitions/PaginatedResponse"}}},"headers":{"$ref":"#/definitions/RateLimitHeaders"}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/definitions/Error"}}}}}}},"/collections/{id}":{"get":{"tags":["Collections"],"summary":"Get collection details","description":"Retrieve detailed information about a specific collection","security":[{"bearerAuth":[]}],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string"},"description":"Collection ID"}],"responses":{"200":{"description":"Collection details","content":{"application/json":{"schema":{"$ref":"#/definitions/BookCollection"}}}},"401":{"description":"Unauthorized"},"404":{"description":"Collection not found","content":{"application/json":{"schema":{"$ref":"#/definitions/Error"}}}}}},"put":{"tags":["Collections"],"summary":"Update collection","description":"Update collection details","security":[{"bearerAuth":[]}],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string"},"description":"Collection ID"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"name":{"type":"string"},"description":{"type":"string"},"isPublic":{"type":"boolean"},"category":{"type":"string"},"color":{"type":"string"},"tags":{"type":"array","items":{"type":"string"}}}}}}},"responses":{"200":{"description":"Collection updated successfully"},"404":{"description":"Collection not found"}}},"delete":{"tags":["Collections"],"summary":"Delete collection","description":"Delete a collection","security":[{"bearerAuth":[]}],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string"},"description":"Collection ID"}],"responses":{"200":{"description":"Collection deleted successfully"},"404":{"description":"Collection not found"}}}},"/collections/category/{category}":{"get":{"tags":["Collections"],"summary":"Get collections by category","description":"Get all collections for a specific category","security":[{"bearerAuth":[]}],"parameters":[{"in":"path","name":"category","required":true,"schema":{"type":"string"},"description":"Collection category"}],"responses":{"200":{"description":"Collections retrieved successfully"}}}},"/collections/{id}/share":{"post":{"tags":["Collections"],"summary":"Generate shareable link","description":"Generate a shareable link for a collection","security":[{"bearerAuth":[]}],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string"},"description":"Collection ID"}],"responses":{"200":{"description":"Shareable link generated"}}}},"/collections/{id}/stats":{"get":{"tags":["Collections"],"summary":"Get collection statistics","description":"Get detailed statistics for a collection","security":[{"bearerAuth":[]}],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string"},"description":"Collection ID"}],"responses":{"200":{"description":"Collection statistics"}}}},"/collections/{id}/search":{"get":{"tags":["Collections"],"summary":"Search books in collection","description":"Search and filter books within a collection","security":[{"bearerAuth":[]}],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string"},"description":"Collection ID"},{"in":"query","name":"query","schema":{"type":"string"},"description":"Search term"},{"in":"query","name":"status","schema":{"type":"string"},"description":"Filter by read status"},{"in":"query","name":"genre","schema":{"type":"string"},"description":"Filter by genre"},{"in":"query","name":"favorite","schema":{"type":"boolean"},"description":"Filter favorites only"}],"responses":{"200":{"description":"Search results"}}}}},"components":{},"tags":[]}
